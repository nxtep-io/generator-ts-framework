import { BaseEntity, Column, DeepPartial, Entity, PrimaryGeneratedColumn } from 'typeorm';

@Entity(<%= modelName %>.tableName)
export default class <%= modelName %> extends BaseEntity {
  private static readonly tableName = '<%= pluralize(name).toLowerCase() %>';

  @PrimaryGeneratedColumn('uuid')
  public id: string;

  @Column({ nullable: false })
  public name: string;

  public constructor(data: DeepPartial<<%= modelName %>> = {}) {
    super();
    this.id = data.id;
    this.name = data.name;
  }

  /**
   * Finds <%= name %> based on its name.
   */ 
  public static async findByName(name: string): Promise<<%= modelName %> | undefined> {
    return this.findOne({ where: {name} });
  }
}
